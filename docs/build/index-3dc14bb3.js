import{S as t,i as e,s as n,e as s,y as a,a as o,b as i,d as l,f as c,A as r,g as u,L as f,l as p,n as d,z as m,r as h,h as g,E as v}from"./main-6432645a.js";import{a as b,s as j,g as x}from"./projects-0e012d83.js";function y(t,e,n){const s=t.slice();return s[8]=e[n],s}function w(t){let e,n,f,p,d,m=t[8]+"";return{c(){e=s("div"),n=s("a"),f=a(m),d=o(),i(n,"class","button"),i(n,"href",p=t[1]("./:name",{name:t[8]})),i(e,"class","control")},m(t,s){l(t,e,s),c(e,n),c(n,f),c(e,d)},p(t,e){1&e&&m!==(m=t[8]+"")&&r(f,m),3&e&&p!==(p=t[1]("./:name",{name:t[8]}))&&i(n,"href",p)},d(t){t&&u(e)}}}function A(t){let e,n,r,g,v,b,j,x,A,L,k,E,C,U,O,R,S,N,I,J,P,T,_,q,z,B,H,M,Q,D,F=t[0],G=[];for(let e=0;e<F.length;e+=1)G[e]=w(y(t,F,e));return{c(){e=s("div"),n=s("h1"),n.textContent="Projetos",r=o(),g=s("div");for(let t=0;t<G.length;t+=1)G[t].c();v=o(),b=s("h1"),b.textContent="Ações",j=o(),x=s("div"),A=s("div"),L=s("div"),k=s("label"),E=s("input"),C=o(),U=s("span"),U.innerHTML='<span class="file-icon"><i class="fas fa-upload"></i></span> \n            <span class="file-label">Importar projetos</span>',O=o(),R=s("div"),S=s("button"),S.textContent="Limpar",N=o(),I=s("div"),J=s("button"),J.textContent="Exportar",P=o(),T=s("div"),_=s("a"),q=a("Imprimir"),B=o(),H=s("div"),M=s("button"),M.textContent="Novo projeto",i(n,"class","title"),i(g,"class","field is-grouped is-grouped-multiline"),i(b,"class","title"),i(E,"class","file-input"),i(E,"type","file"),i(E,"accept","application/json"),i(U,"class","file-cta"),i(k,"class","file-label"),i(L,"class","file"),i(A,"class","control"),i(S,"class","button is-danger"),f(S,"is-static",!t[0].length),i(R,"class","control"),i(J,"class","button"),f(J,"is-static",!t[0].length),i(I,"class","control"),i(_,"class","button"),i(_,"href",z=t[1]("./impressao")),f(_,"is-static",!t[0].length),i(T,"class","control"),i(M,"class","button is-primary"),i(H,"class","control"),i(x,"class","field is-grouped is-grouped-multiline"),i(e,"class","container content box")},m(s,a){l(s,e,a),c(e,n),c(e,r),c(e,g);for(let t=0;t<G.length;t+=1)G[t].m(g,null);c(e,v),c(e,b),c(e,j),c(e,x),c(x,A),c(A,L),c(L,k),c(k,E),c(k,C),c(k,U),c(x,O),c(x,R),c(R,S),c(x,N),c(x,I),c(I,J),c(x,P),c(x,T),c(T,_),c(_,q),c(x,B),c(x,H),c(H,M),Q||(D=[p(E,"change",t[3]),p(S,"click",t[5]),p(J,"click",t[4]),p(M,"click",t[2])],Q=!0)},p(t,[e]){if(3&e){let n;for(F=t[0],n=0;n<F.length;n+=1){const s=y(t,F,n);G[n]?G[n].p(s,e):(G[n]=w(s),G[n].c(),G[n].m(g,null))}for(;n<G.length;n+=1)G[n].d(1);G.length=F.length}1&e&&f(S,"is-static",!t[0].length),1&e&&f(J,"is-static",!t[0].length),2&e&&z!==(z=t[1]("./impressao"))&&i(_,"href",z),1&e&&f(_,"is-static",!t[0].length)},i:d,o:d,d(t){t&&u(e),m(G,t),Q=!1,h(D)}}}function L(t,e,n){let s;g(t,v,(t=>n(1,s=t)));var a=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(a,o){function i(t){try{c(s.next(t))}catch(t){o(t)}}function l(t){try{c(s.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,l)}c((s=s.apply(t,e||[])).next())}))};let o=b();function i(t,e){j(t,e),n(0,o=[t,...o])}return[o,s,function(){let t="";do{const e=o[t]?"Escolha um nome diferente para o projeto.":"Escolha um nome para o projeto.";if(t=prompt(e,t),!t)break}while(o[t]||t.includes(","));t&&(t=t.replaceAll(" ","-"),i(t,{ano:"",images:[],materia:t,nAlternativas:4,nQuestoes:5,text:""}))},function(t){return a(this,void 0,void 0,(function*(){const e=t.currentTarget.files[0];if(e)try{const t=e.name.split(".")[0],n=yield e.text(),s=JSON.parse(n);if(Array.isArray(s)){const t=s.map((t=>t));if(t.some((t=>o.includes(t.name))))return void alert("Um ou mais projetos já estão presentes.");t.forEach((t=>i(t.name,t.data)))}else{i(t,s)}}catch(t){console.log(t),alert("Arquivo inválido.")}}))},function(){return a(this,void 0,void 0,(function*(){const t=o.map((t=>({name:t,data:x(t)}))),e=JSON.stringify(t),n=new Blob([e],{type:"application/json"}),s=URL.createObjectURL(n);var a=document.createElement("a");a.download="projetos.json",a.href=s,a.click(),URL.revokeObjectURL(s)}))},function(){localStorage.clear(),n(0,o=[])}]}export default class extends t{constructor(t){super(),e(this,t,L,A,n,{})}}
